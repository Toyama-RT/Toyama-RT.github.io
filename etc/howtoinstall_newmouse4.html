<!DOCTYPE html>
<html lang="ja"><head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-82832782-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-82832782-3');
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Z7DXKP3EBK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Z7DXKP3EBK');
</script>

  
  <meta content="text/html; charset=utf-8" http-equiv="content-type">

  
  <script type="text/javascript" src="../sh/scripts/shCore.js"></script>
  
  <script type="text/javascript" src="../sh/scripts/shBrushXml.js"></script>
  
  <script type="text/javascript" src="../sh/scripts/shBrushPlain.js"></script>
  
  <script type="text/javascript" src="../sh/scripts/shBrushJScript.js"></script>
  
  <script type="text/javascript" src="../sh/scripts/shBrushVb.js"></script>
  
  <link type="text/css" rel="stylesheet" href="../sh/styles/shCoreDefault.css">

  
  <script type="text/javascript">SyntaxHighlighter.all();</script>
  <title>新しい mouse を探して　番外編｜富山県リハ病院こども支援センター</title>
  
  <style type="text/css">
<!--
      
p	{
      font-size: 20px;
      line-height : 1.75 ;
      margin: 15px 100px 15px 100px;
	}
h1 {
    text-align: center;
    }
h2 {
    text-align: left;
      margin-left: 100px;
    }
h3 {
    text-align: left;
      margin-left: 100px;
    }
h4 {
    text-align: left;
      margin-left: 120px;
    }
pre {
    font-size: 20px;
    margin: 5px 100px 15px 100px;
    }
address{
	margin:5px 100px 15px 100px;
}      
blockquote {
    position: relative;
      font-size: 20px;
      line-height : 1.5 ;
    padding: 5px 150px 8px 100px;
    box-sizing: border-box;
    font-style: italic;
}
ol {
}
ul {
}
li {
  margin-top: 5px; /* 上余白指定 */
  margin-bottom: 5px; /* 下余白指定 */
  margin-left: 100px; /* 左余白指定*/
  margin-right: 100px; /* 右余白指定 */
  font-size: 20px; /*リストのフォントの大きさ*/
}
button{
  margin-bottom:1rem;
  width:150px;
  height:100px;
}

span.samples {font-size: small; }
.syntaxhighlighter {
  width: 80% !important;
  margin: 1em 100px 1em 100px !important;
  position: relative !important;
  overflow: auto !important;
  font-size: 1.3em !important;
}

    #text1 {
        width: 50%;
        height: 3em;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 3px;
        margin-bottom: 10px;
        font-size: 1.4em;
        font-weight: 700;
    }
    #btn1 {
        background: -webkit-linear-gradient(top,#008dfd 30%,#0370ea 100%);
        color: white;
        text-shadow: 1px 1px 1px #076bd2;
        border-radius: 3px;
        border: 1px solid #076bd2;
        padding: 2px 25px;
        font-weight: 700;
        font-size: 20px;
    }
    #selectVoice1 {
        width: 200px;
        font-weight: 700;
        font-size: 20px;

    }
    #text2 {
        width: 50%;
        height: 3em;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 3px;
        margin-bottom: 10px;
        font-size: 1.4em;
        font-weight: 700;
    }
    #btn2 {
        background: -webkit-linear-gradient(top,#008dfd 30%,#0370ea 100%);
        color: white;
        text-shadow: 1px 1px 1px #076bd2;
        border-radius: 3px;
        border: 1px solid #076bd2;
        padding: 2px 25px;
        font-weight: 700;
        font-size: 20px;
    }
    #selectVoice2 {
        width: 200px;
        font-weight: 700;
        font-size: 20px;

    }
    #text3 {
        width: 50%;
        height: 3em;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 3px;
        margin-bottom: 10px;
        font-size: 1.4em;
        font-weight: 700;
    }
    #btn3 {
        background: -webkit-linear-gradient(top,#008dfd 30%,#0370ea 100%);
        color: white;
        text-shadow: 1px 1px 1px #076bd2;
        border-radius: 3px;
        border: 1px solid #076bd2;
        padding: 2px 25px;
        font-weight: 700;
        font-size: 20px;
    }
    #selectVoice3 {
        width: 200px;
        font-weight: 700;
        font-size: 20px;
    }


-->
  </style>
          <script type="text/javascript" src="./test.js"></script>

</head><body>
<p align="center"><font size="5"><font size="5"><font size="3"><font color="#ff0000">かならずお読みください</font>→<a href="../cyuui.html" target="_self"><img alt="注意事項" src="../cyuuijikou.gif" border="0" height="29" width="78"></a></font></font></font></p>

<h1>新しい mouse を探して　番外編</h1>
<h1>Android で EVA Facial Mouse が</h1>
<h1>エンチャント文字盤をうまくクリックできない理由と対策</h1>


<div style="text-align: center;">
<button id="button1">こんにちは</button>
<button id="button2">さようなら</button>
<button id="button3">ありがとう</button>
<button id="button4">ごめんなさい</button>


<p>４つのことば　クリックで発声します<br>EVA Facial Mouse でも動きます</p></div>

<h2>０　はじめに</h2>
<p>
前回は、Android端末に EVA Facial Mouse をインストールする方法と設定についてお話ししました。インストール自体は実に簡単なのですが、使う人に合わせた設定はなかなか簡単ではありません。しかしこれがうまくできるなら、不自由のある人にとって新しい選択肢ができて、必要以上にあきらめなくてもよくなります。これはたいへんよろこばしい事だと思います。
</p><p>
しかし前回の出来事であきらめがつかないことがひとつありました。エンチャント文字盤がうまく動かなかったことです。あきらめの悪いのが私の性分ですので、もうすこしあきらめずに取り組みました。今回のお題は『あきらめない』です。

</p>
<h2>１　現象のまとめ</h2>
<p>
Android 端末で EVA Facial Mouse は問題なく動きました。画面タッチでできるのと同様のことが、EVAでクリックすればできました。ブラウザでのWebサイトの操作も問題ありませんでした。
</p><p>
ところが、エンチャント文字盤の『4つの言葉』や『50音文字盤』などで、文字をクリックしても全然反応しません。しかし同じところをタップすると動作します。
</p><p>
もうひとつ、エンチャント文字盤を起動した時に画面中央にstartと表示されますが、これは EVA Facial Mouse でもタップでも消えます。ですのでまんざら EVA Facial Mouse は動いていないわけではありません。
</p>
<h2>２　調査</h2>
<p>
さて
<a href="../enchant/enchant0.html" target="_blank">こちらのサンプルのページ</a>
にあるこれまで制作物でも試して見ました。
こちらはサンプル置き場ではありますがこのような場合には実験場になります。

エンチャント文字盤の初期の試作品、『くまが歩く』と『物理エンジンシリーズ』
<a href="../enchantoy/whyenchantoy.html" target="_blank">こちらの『ばなな』シリーズ</a>
が動きましたがそれ以外は動きませんでした。
</p><p>
これらを総合すると、
</p><p>
       game_.rootScene.addEventListener(Event.TOUCH_START, function(e) {<br>

       })<br>

が動くのに<br>

        word1.addEventListener(Event.TOUCH_START, function(e) {<br>

       })<br>

が動かないことがわかりました。
</p><p>
そこでこの関数がうまく動かないなら、代わりにクリックした時の座標値を用いてその数値が条件に当てはまれば動作する試作品を作って見ましたがこれも動きません。どんな座標値がとれているのか表示させてみると、なんと（0，0）でした。
</p><p>
つまり EVA Facial Mouse はエンチャントの画面でクリックした際の座標値をとるところがうまく働いていないようです。
</p><p>
では、画面を動きまわっている、 EVA Facial Mouse のマウスカーソルはいったい何者なのでしょう？まさかと思いつつもOTGケーブルを使い、USBマウスをタブレットにつないでみました。すると、もう一つのマウスカーソルが現れました。もちろんWindowsなどではこのようなことは起きません。
</p>
<div style="text-align: center;"><img alt="ふたつのマウス" src="img/4-1.png"><p>赤矢印はUSBマウス、青矢印は EVA Facial Mouse のマウスカーソル<br>何となくUFO写真に見える</p></div>
<p>
 EVA Facial Mouse は本来のマウスを操作するソフト（マウスエミュレータ）というよりも、もうひとつの別のマウスのようです。ただこれがenchantと相性が悪いためか、クリック信号は本体に出力できるのに座標値はうまく出力できない今回のトラブルが起きたようです。
</p>
<h2>３　対策</h2>
<p>
 EVA Facial Mouse と enchat.js が両立できず、どちらかをとるとしたら、Android用の顔認識マウスは非常に稀少ですので、 enchat.js をあきらめるしかありません。そこで
enchant.jsなしでつくったコミュニケーションエイドのサンプルが、このページのトップです。Androidでは、タップでも EVA Facial Mouse でも動きます。またパソコンでも動きます。
</p><p>
enchantを見慣れているとずいぶん地味に見えますが、作り込んでいけばいろいろできるのはご存じの通りです。またこれがhtml本来の使い方ですので、基本に忠実と言えばその通りです。ただエンチャント得意の自由自在のアニメーションは使いにくくなります。
</p>
<h2>４　おわりに</h2>
<p>
前回見つかった不具合の原因探しをしました。その結果、EVA Facial Mouse とenchant.js を両方使うとクリック座標値の取得がうまくいかないことがわかりました。対策として、enchant.jsを使わずにサンプルを作ってみるとそれなりのものができました。
</p><p>
これまでエンチャントを使ってコミュニケーションエイドの可能性を探ってきました。エンチャントの豊富なアニメーション機能はエンターテイメント的にはたいへん魅力的で、小児対象のアプリなどには必須かつ重要な要素になります。
</p><p>
しかし、大人向けコミュニケーションエイドでは話は別です。基本的機能はJavaScriptで実現できているのは、このページトップのサンプルのとおりです。またenchant.jsを使わずに基本のhtml＋css＋JavaScriptを使う方が可能性が広がることも予想できます。
</p><p>
そして何よりも、現在のところ非常に稀少なAndroid端末用顔認識間マウスとして EVA Facial Mouse を利用する道筋が出て来たのが収穫でした。
</p><p>
ちょうどエンチャントに限界を感じ始めていましたので、これからはユーザや用途、目的に合わせた支援について考えていきたいと思います。
</p><p>
ところで、 EVA Facial Mouse を作った Cesar Mauri さんはどうしてマウスを一から作ろうとしたのでしょう。やっぱりマウスのないあのタブレットのことを考えたのでしょうか？

</p>

<hr style="width: 60%; height: 5%; color: black;">
<p><span class="samples">2019/5/24　公開</span></p>

<a href="../index.html" target="_self">
<p align="center">研究企画課リハ工学科にもどる</a>　←もくじはこちらです</p>

</body></html>
