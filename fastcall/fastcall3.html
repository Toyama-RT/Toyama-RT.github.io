<!DOCTYPE html>
<html lang="ja"><head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Z7DXKP3EBK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Z7DXKP3EBK');
</script>

  
  <meta content="text/html; charset=utf-8" http-equiv="content-type">
  
  <script type="text/javascript" src="../sh/scripts/shCore.js"></script>
  
  <script type="text/javascript" src="../sh/scripts/shBrushXml.js"></script>
  
  <script type="text/javascript" src="../sh/scripts/shBrushPlain.js"></script>
  
  <script type="text/javascript" src="../sh/scripts/shBrushJScript.js"></script>
  <script type="text/javascript" src="../sh/scripts/shBrushCss.js"></script>
  
  <script type="text/javascript" src="../sh/scripts/shBrushVb.js"></script>
  
  <link type="text/css" rel="stylesheet" href="../sh/styles/shCoreDefault.css">
  
  <script type="text/javascript">SyntaxHighlighter.all();</script>
  <title>FastCall3｜富山県リハ病院こども支援センター</title>
  
  <style type="text/css">
<!--
      
p	{
      font-size: 20px;
      line-height : 1.75 ;
      margin: 15px 100px 15px 100px;
	}
h1 {
    text-align: center;
    }
h2 {
    text-align: left;
      margin-left: 100px;
    }
h3 {
    text-align: left;
      margin-left: 100px;
    }
h4 {
    text-align: left;
      margin-left: 120px;
    }
pre {
    font-size: 20px;
    margin: 5px 100px 15px 100px;
    }
address{
	margin:5px 100px 15px 100px;
}      
blockquote {
    position: relative;
      font-size: 20px;
      line-height : 1.5 ;
    padding: 5px 150px 8px 100px;
    box-sizing: border-box;
    font-style: italic;
}
ol {
}
ul {
}
li {
  margin-top: 5px; /* 上余白指定 */
  margin-bottom: 5px; /* 下余白指定 */
  margin-left: 100px; /* 左余白指定*/
  margin-right: 100px; /* 右余白指定 */
  font-size: 20px; /*リストのフォントの大きさ*/
}
button{
  margin-bottom:1rem;
  width:150px;
  height:100px;
}

span.samples {font-size: small; }
.syntaxhighlighter {
  width: 80% !important;
  margin: 1em 100px 1em 100px !important;
  position: relative !important;
  overflow: auto !important;
  font-size: 1.3em !important;
}

    #text1 {
        width: 50%;
        height: 3em;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 3px;
        margin-bottom: 10px;
        font-size: 1.4em;
        font-weight: 700;
    }
    #btn1 {
        background: -webkit-linear-gradient(top,#008dfd 30%,#0370ea 100%);
        color: white;
        text-shadow: 1px 1px 1px #076bd2;
        border-radius: 3px;
        border: 1px solid #076bd2;
        padding: 2px 25px;
        font-weight: 700;
        font-size: 20px;
    }
    #selectVoice1 {
        width: 200px;
        font-weight: 700;
        font-size: 20px;

    }
    #text2 {
        width: 50%;
        height: 3em;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 3px;
        margin-bottom: 10px;
        font-size: 1.4em;
        font-weight: 700;
    }
    #btn2 {
        background: -webkit-linear-gradient(top,#008dfd 30%,#0370ea 100%);
        color: white;
        text-shadow: 1px 1px 1px #076bd2;
        border-radius: 3px;
        border: 1px solid #076bd2;
        padding: 2px 25px;
        font-weight: 700;
        font-size: 20px;
    }
    #selectVoice2 {
        width: 200px;
        font-weight: 700;
        font-size: 20px;

    }
    #text3 {
        width: 50%;
        height: 3em;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 3px;
        margin-bottom: 10px;
        font-size: 1.4em;
        font-weight: 700;
    }
    #btn3 {
        background: -webkit-linear-gradient(top,#008dfd 30%,#0370ea 100%);
        color: white;
        text-shadow: 1px 1px 1px #076bd2;
        border-radius: 3px;
        border: 1px solid #076bd2;
        padding: 2px 25px;
        font-weight: 700;
        font-size: 20px;
    }
    #selectVoice3 {
        width: 200px;
        font-weight: 700;
        font-size: 20px;
    }


-->
  </style>

</head><body>
<p align="center"><font size="5"><font size="5"><font size="3"><font color="#ff0000">かならずお読みください</font>→<a href="../cyuui.html" target="_self"><img alt="注意事項" src="../cyuuijikou.gif" border="0" height="29" width="78"></a></font></font></font></p>

<h1>もっとかんたんにスマホで電話をかける方法　３<br>
電話をかける方法のつくりかた</h1>

<div style="text-align: center;">
<p>わかりやすいアイコンに変更する方法もあります</p>
<img alt="ワンプッシュコール写真" src="img/favicon.png">
<p>左：オリジナルのアイコン　右：新しく作ったアイコン</p>
</div>

<h2>０　はじめに</h2>
<p>
前回スマホをお使いになっているご高齢の方々がどうも増えているようだというお話をしました。なかには自分からすすんで新しいものに取り組まれた方もおられるかもしれませんが、やはり多くの方はご家族に勧められてお使いになるようです。家の電話は普段すごす部屋から離れているとか冬は寒いとか（理由は分かりませんが昔はそんなお宅が普通でしたね）で大変とか、なにかあった時に電話が手元にあればすぐ連絡できて安心だなどいろいろ事情があるようです。お孫さんに教えてもらったとか、スマホ教室に通ったといったお話もうかがいます。いまどきは『いい年齢なのにスマホ』などと言われることもないようです。
</p><p>
ところが、これは人によっていくらか違いはあるのですが、だんだん思い出せなくなったり、新しいことを覚えるのに苦労するとか言います。みなさんも「昔のことはよく覚えているのに、最近のことは忘れやすい」という話をお聞きになったりご自分で実感されることがあると思います。
</p><p>
これと同じように昔から使っていた古い道具なら今でもしっかり使えるのに、最近の道具はどうも使い方が難しいということもあるようです。ある日わが家の炊飯器がこわれましたので、古いものを出してきてまず掃除してご飯を炊きました。何年も使っていなかったのですが、米をといで水を入れてフタをしめてあとはスイッチを押すだけ。これほど使い方がシンプルなので簡単に思い出せました。このように昔の道具はどれもかなりシンプルだったのでご高齢のかたにも使いやすかったのかもしれません。
</p><p>
このようにスマホで困ったら古い電話を物置から出してきて使えばいい、そんな具合にはいきません。昔の電話がまだしまってあるお宅なんてまずありません。（ちなみに私の実家には黒電話がまだあります）
</p><p>
このようなわけで、自分のスマホがだんだん苦手になる人がこれから多くなると思います。らくらくスマホなどの難しい操作が苦手なひとむけアプリなどもありますがそれでもだんだんむつかしくなっていくでしょう。スマホが使えなくなると、LINEもできない、検索もできない、写真もとれない、でもそんなことよりも、電話できなくなると困ります。たとえご本人は平気だと言われても、ホントに困るのはご家族のほうです。
</p><p>
ところが幸いスマホはコンピュータですので、いろいろと工夫ができます。そこで、『もっとらくらくスマホ（ただし電話だけ）』といったものを作ろうと考えはじめました。今回もこれまでの経験も活かしてWebアプリで作ることにしました。

</p>
<h2>１　Webアプリとは？その利点は？</h2>
<p>
ところでなぜWebアプリなのか？そもそもWebアプリって何か？と思う方もおられるかもしれません。Webアプリとは、特定のWebサイトを閲覧することでそこに組み込まれたプログラムを使って目的を果たすアプリです。そのサイトに接続するだけで利用できます。とにかくすぐに始められます。
</p><p>
使う人のメリット：Webページ閲覧と同じやり方ですぐ使えます。インターネットにつなぐ必要がありますがインストールなどの手間はありません。
</p><p>
作る人のメリット：Webアプリならプログラムひとつで、Windows、Mac、Android、ios（iPados）、Linuxなどに対応できます。通常、複数のシステムに対応するには何種類もプログラムが必要ですがこの負担がずいぶん小さくなります。
</p><p>
配る人のメリット：ソフトを配る仕事はありません。Webアプリではサーバがこの仕事をします。
</p><p>
まとめると、使う人と作る人の負担が軽くて間に誰もいないので、アプリの産地直送のようなものです。このような理由でWebアプリが増えています。
</p>
<h2>２　かんたんに電話をかけるアプリの作り方</h2>
<p>
さてWebアプリのはじまりは、index.htmlファイルです。以下にかんたんに電話をかけるアプリ（おとこのこ）のファイルについて説明します。

index.htmlは次のようになっています。

<pre class="brush:html;">
&lt;!DOCTYPE html>
&lt;html>
&lt;head>
  <meta charset="utf-8"> 
  <title>Fast Call boy</title>
  <link rel="shortcut icon" href="/techno/engineering/fastcall/call.png">
  <link rel="apple-touch-icon" href="/techno/engineering/fastcall/call.png">
  <link rel="stylesheet" href="style2.css" type="text/css">
  <script language="javascript" type="text/javascript" 
  src="./ec21.js"></script>
&lt;/head>
&lt;body>
 <form name="form1" id="id_form1" action="#" method="post">
  <p>A<input type="tel" name="telnumber1" id="id_telnumber1" pattern="[\d\-]*" size="10">
  <input type="button" value="SAVE" onclick="onButtonClick1();" />
  </p>
 </form>

<div class="flex" id="idName">
 <a href="tel:000000"><img src="./boy.gif" width="150%" alt="BOY"></a>
</div>

&lt;/body>
&lt;/html>

</pre>
</p><p>
このhtmlについて説明します。<br>
4行目：日本語など2バイト文字、utf-8を指定しています。はじめはもっと日本語を使う予定でしたが、外国の人にも使いやすいようにシンプルにしましたので、特に意味はありません。<br>
5行目：タイトルは、Fast Call boyで、男の子の画像を表示しています。<br>
6-7行目：ショートカットアイコンとして、自作した受話器と顔の電話をかける画像call.pngを指定しています。これがないとサイトのアイコンfaviconを表示します。残念ながら当院のサイトのアイコンは病院のマークで、色調が地味で視認性がいまいちまた電話とはわかりにくいものでした。そこで見やすいわかりやすいアイコンを作り表示するようにしました。7行目は、iosの場合の指定文です。どちらもrootからのpathで指定する必要があります。<br>
8行目は、文字やテキストボックス、ボタンや画像などの表示の設定スタイルシートを、このファイルと同じ位置にあるstyle2.cssに指定しています。<br>
9行目はこのページを動作させるJavaScriptのプログラムをec21.jsに指定しています。<br>
このように&lt;head> と&lt;/head>の間で、関連するファイルを指定します。
</p><p>
またbodyでは、表示するオブジェクトを指定します。<br>
12行目の&lt;form>で番号入力フォームをつくります。名前はform1、IDはid_form1とします。
form1のなかに、テキストボックスtelnumber1とSAVEと表示したボタンを配置します。またボタンを押すと、javascriptの20行目のonButtonClick1()が動くように指定しています。
</p><p>
18行目では、その下に画像boy.gifに電話番号000000のリンクをつけて表示しています。この部分の番号はあくまでも仮で、後でjavascriptで書き換えます。
</p><p>
次に表示を設定するためにcssファイルを作ります。<br>
style2.cssは次のようになっています。
</p><p>

<pre class="brush:css;">

p    {
      font-size: 30px;
      font: 20px/1.5 "ヒラギノ角ゴPro W3","Hiragino Kaku Gothic Pro",Osaka,“メイリオ”,Meiryo,"ＭＳ Ｐゴシック","MS PGothic",Arial,Helvetica,Verdana,sans-seri
      line-height : 1.5 ;
      margin: 5px 100px 15px 100px;
    }

.flex{
  padding: 0.2% 0;
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  justify-content: space-around;
}

.flex img{
   width: 600px;
}

input{
font-size: 30px;
} 

body {
touch-action: none; /* タッチパネルの操作を無効化 */
}

@media (min-width: 1024px) {
a[href^="tel:"] {
pointer-events: none;
cursor: default;
text-decoration: none;
}
}

</pre>
<p>
スタイルシートでは各部分の表示設定が記されています。
</p><p>
1行目：まず文字表示ｐは、使用するフォントと大きさ、周囲のマージンなどが指定しています。当初は日本語表記で「電話番号」などと表示するために日本語フォントも指定してありますが、表示をシンプルにするために日本語表記はなくなりました。<br>
8行目：おとこのこのイラストを表示する部分が.flexですが、配置を均等=flexにするように指定しました。これで画面サイズに合わせて中央に配置できます。またイラストの大きさは、幅600pxで指定しました。<br>
20行目：電話番号入力部分のフォントサイズは30px<br>
24行目：ピンチなどの動作で拡大縮小表示できないように操作を無効化しています。<br>
28行目：また画面幅が大きい場合は、パソコンを使っていると判断し、電話をかけるリンクを無効化しています。これによりパソコンでイラストをクリックしても電話をかける動作は行いません。もしこの設定がないと各種の警告が表示されてユーザを不安にさせます。これを防ぐのが目的です。
</p><p>
最後に、動作を作るために、jsファイルを作ります。<br>
ec21.jsは次のようになっています。
</p><p>

<pre class="brush:css;">
var pn1 = 0 ;
var SERVICE_1 = 'SERVICE_1';

document.addEventListener("DOMContentLoaded", function(){ // htmlを読み込み後以下を実行せよ
// localStrage から　前回の電話番号1を読み込む
    try {
        pn1 = (localStorage[SERVICE_1] || '');
    } catch(e) {
        pn1 = '';
    }
//　テキストボックスに番号を表示する
    document.forms.id_form1.id_telnumber1.value = pn1;
    console.log("pn1. =", pn1, typeof(pn1));
//　htmlの電話をかける部分に番号を組み入れる
        var mydiv = document.getElementById("idName");
     mydiv.innerHTML = '<a href="tel:' + pn1 + '"><img src="./boy.gif" width="25%" alt="boy"></a>';
    console.log('<a href="tel:' + pn1 + '">電話をかける</a>');
})

function onButtonClick1(){//保存ボタンをクリックした場合
//テキストボックスの番号を読み取りlocalStrage に保存する
    pn1 = document.forms.id_form1.id_telnumber1.value;
    console.log("phone no1. =", pn1, typeof(pn1));
    localStorage[SERVICE_1] = pn1;
//　htmlの電話をかける部分に番号を組み入れる
        var mydiv = document.getElementById("idName");
     mydiv.innerHTML = '<a href="tel:' + pn1 + '"><img src="./boy.gif" width="25%" alt="boy"></a>';
    console.log('<a href="tel:' + pn1 + '">電話をかける</a>');
}
</pre>
<p>
簡単に説明します。
1-2行目：使用する変数を宣言します。
4-18行目：ブラウザの保存領域に前回の電話番号が保存ずみの場合は読み込みます。まだ保存していない場合は空白にします。読み込んだ番号はテキストボックスに表示して、15-16行でindex.htmlの18行部分を書き換えて電話番号を修正します。（JavaScriptからhtmlを書き換えています。こんなコトできるなんてびつくり）これでイラストをタップすると通話開始の寸前まで進みます。
</p><p>
20-29行目：またSAVEボタンを押すとfunction onButtonClick1()が動き始め、テキストボックスの番号を読み取り自動的に保存し、index.htmlの18行部分を書き換えます。
</p><p>
基本バージョン（おとこのこ）は以上のように作られています。
</p><p>
これをおんなのこのイラストに変更したのが、「おんなのこ」です。
</p><p>
また、ふたつのイラストから電話の相手を選べるように改善したのが、「おとこのひととおんなおひと」と「おじさんとおばさん」です。こちらについて詳しくお知りになりたい方は、パソコンで起動して、画面で右クリックしページのソースを表示させると内容を見ることができます。
</p>
<h2>３　おわりに</h2>
<p>
「はじめに」ではご高齢の方のスマホについてお話しました。しかしこのほかにも、簡単に電話ができると助かる人たちがいます。若くて不自由をもって生活している人たちです。自分で電話ができるといいのだけれど、もうちょっとというところで難しい人たちです。
</p><p>
このような皆さんが自分でできることをだんだん増やせていけたらとてもいいですね。
</p><p>
普通の道具をもっとつかいやすくして自分でできるように応援する
のは、たとえば段差にスロープや手すりをつけることとよく似ています。

今回ご紹介した方法がこのような取組にいくらかでも役に立てたら、そして「情報」やコンピュータやプログラムを勉強する若い人たちと昔は若かった人たちがこのようなことがらに関心をもっていただけたら幸いに思います。

</p>
<h2>参考URL</h2>
<ul>
  <li>HTMLの< a href="tel:" >でリンクをタップして電話を発信させる方法<br>
<a target="_blank" href="https://webliker.info/html/65145/">https://webliker.info/html/65145/</a></li>
  <li>【JavaScript】innerHTMLの使い方<br>
<a target="_blank" href="https://qiita.com/mzmz__02/items/7bcbce347bc3c5d64b93">https://qiita.com/mzmz__02/items/7bcbce347bc3c5d64b93</a></li>

</ul>
<hr style="width: 60%; height: 5%; color: black;">
<p><span class="samples">2022/09/29　公開
</span></p>

<a href="../index.html" target="_self">
<p align="center">研究企画課リハ工学科にもどる</a>　←もくじはこちらです</p>

</body></html>
