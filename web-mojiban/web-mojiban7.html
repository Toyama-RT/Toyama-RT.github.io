<!DOCTYPE html>
<html lang="ja"><head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-82832782-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-82832782-3');
</script>

  <meta content="text/html; charset=utf-8" http-equiv="content-type">

  
  <script type="text/javascript" src="../sh/scripts/shCore.js"></script>
  
  <script type="text/javascript" src="../sh/scripts/shBrushXml.js"></script>
  
  <script type="text/javascript" src="../sh/scripts/shBrushPlain.js"></script>
  
  <script type="text/javascript" src="../sh/scripts/shBrushJScript.js"></script>
  
  <script type="text/javascript" src="../sh/scripts/shBrushVb.js"></script>
  
  <link type="text/css" rel="stylesheet" href="../sh/styles/shCoreDefault.css">

  
  <script type="text/javascript">SyntaxHighlighter.all();</script>
  <title>Web 文字盤7｜富山県リハ病院こども支援センター</title>
  
  <style type="text/css">
<!--
      
p	{
      font-size: 20px;
      line-height : 1.75 ;
      margin: 15px 100px 15px 100px;
	}
h1 {
    text-align: center;
    }
h2 {
    text-align: left;
      margin-left: 100px;
    }
h3 {
    text-align: left;
      margin-left: 100px;
    }
h4 {
    text-align: left;
      margin-left: 120px;
    }
pre {
    font-size: 20px;
    margin: 5px 100px 15px 100px;
    }
address{
	margin:5px 100px 15px 100px;
}      
blockquote {
    position: relative;
      font-size: 20px;
      line-height : 1.5 ;
    padding: 5px 150px 8px 100px;
    box-sizing: border-box;
    font-style: italic;
}
ol {
}
ul {
}
li {
  margin-top: 5px; /* 上余白指定 */
  margin-bottom: 5px; /* 下余白指定 */
  margin-left: 100px; /* 左余白指定*/
  margin-right: 100px; /* 右余白指定 */
  font-size: 20px; /*リストのフォントの大きさ*/
}
button{
  margin-bottom:1rem;
  width:150px;
  height:100px;
}

span.samples {font-size: small; }
.syntaxhighlighter {
  width: 80% !important;
  margin: 1em 100px 1em 100px !important;
  position: relative !important;
  overflow: auto !important;
  font-size: 1.3em !important;
}

    #text1 {
        width: 50%;
        height: 3em;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 3px;
        margin-bottom: 10px;
        font-size: 1.4em;
        font-weight: 700;
    }
    #btn1 {
        background: -webkit-linear-gradient(top,#008dfd 30%,#0370ea 100%);
        color: white;
        text-shadow: 1px 1px 1px #076bd2;
        border-radius: 3px;
        border: 1px solid #076bd2;
        padding: 2px 25px;
        font-weight: 700;
        font-size: 20px;
    }
    #selectVoice1 {
        width: 200px;
        font-weight: 700;
        font-size: 20px;

    }
    #text2 {
        width: 50%;
        height: 3em;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 3px;
        margin-bottom: 10px;
        font-size: 1.4em;
        font-weight: 700;
    }
    #btn2 {
        background: -webkit-linear-gradient(top,#008dfd 30%,#0370ea 100%);
        color: white;
        text-shadow: 1px 1px 1px #076bd2;
        border-radius: 3px;
        border: 1px solid #076bd2;
        padding: 2px 25px;
        font-weight: 700;
        font-size: 20px;
    }
    #selectVoice2 {
        width: 200px;
        font-weight: 700;
        font-size: 20px;

    }
    #text3 {
        width: 50%;
        height: 3em;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 3px;
        margin-bottom: 10px;
        font-size: 1.4em;
        font-weight: 700;
    }
    #btn3 {
        background: -webkit-linear-gradient(top,#008dfd 30%,#0370ea 100%);
        color: white;
        text-shadow: 1px 1px 1px #076bd2;
        border-radius: 3px;
        border: 1px solid #076bd2;
        padding: 2px 25px;
        font-weight: 700;
        font-size: 20px;
    }
    #selectVoice3 {
        width: 200px;
        font-weight: 700;
        font-size: 20px;
    }


-->
  </style>

</head><body>
<p align="center"><font size="5"><font size="5"><font size="3"><font color="#ff0000">かならずお読みください</font>→<a href="../cyuui.html" target="_self"><img alt="注意事項" src="../cyuuijikou.gif" border="0" height="29" width="78"></a></font></font></font></p>

<h1>Web 文字盤　７</h1>
<h1>オフラインWebアプリ</h1>
<h1>通常の使い方とインストールアンインストールの方法</h1>

<div style="text-align: center;"><img alt="YouTube" src="img/youtube.png" border="2"></div>
<p align="center">
<a target="_blank" href="https://youtu.be/9KmP4-QGebc">操作説明のYouTube動画はこちら　2分10秒　ごく小さな音が出ます</a>
</p>

<h2>０　はじめに</h2>
<p>
コミュニケーションエイドなどの福祉機器では、機種を選ぶ際にあれこれいろいろと試したり、使い方の練習に取り組むことがよくあります。しかし特にじっくり選んだり練習をしたいときには機械や道具を借りるための手間やお金がかかります。また機種が決まった後には機械や道具を届けて設置するときにも、使用する際のアップデートや故障修理など保守などにもずいぶん手間と時間がかかります。そしてこれらを、ご本人やご家族や周囲の人々や業者さんの協力でのりこえないと使い始めることも使い続けることも難しくなります。
</p><p>
もしこのような場面でインターネット配信が利用できるとずいぶん負担を軽くすることができます。これは、エンチャント文字盤やWeb文字盤をお使いになったみなさんならご理解いただけると思います。
</p><p>
最近はインターネットの普及もかなり進んでいるようです。まちなかでは公共wifiも目につくようになりました。しかしまだいつでも誰でもインターネットが利用できるわけではありません。インターネットが通じていない病院や病室や施設、ご家庭もまだまだ少なくありません。そのほか旅行や外出先などで公共のインターネットが利用できないこともよくあります。そのためなかには自分用の通信機器を持ち歩いている人もいます。
</p><p>
このような場合は、インターネットがあるときもないときも利用できる、まるで水陸両用車にような道具がほしくなります。これがあれば持ち運びに適したスマホやタブレットやモバイルパソコンなどを活用して生活を広げる用途が期待できます。
</p><p>
これをめざしてオフラインWebアプリの開発に取りかかったのが2年前の2018年のことです。
</p>
<h2>１　GoogleのPWA構想</h2>
<p>
これらのアイデアをProgressive Web Apps（略してPWA)と名付けGoogleが提唱し始めたのがさらに3年前の2015年のことでした。当時Googleは
</p><p><blockquote>
ウェブとアプリの両方の利点を兼ね備え、ブラウザで表示して利用するのでインストールの必要はなく、不安定なネットワークでも迅速に起動して利用できる。
</blockquote></p><p>
と説明していました。この段階でオフライン機能の他、通知機能やユーザの操作性の改善など唱われていました。基本的な機能は早くから実現されていたのですが、各社のブラウザ対応の足並みがなかなかそろわず、実用化まで長い期間が必要だったようです。しかしようやく昨年にかけて、大手のMicroSoftやAppleなどがブラウザのPWA対応をすすめて普及が本格化しはじめました。
</p><p>
そして昨年後半、開発の中心となっているGoogleがChromeのPWA本格対応版を発表しました。この段階でユーザの取り扱いや操作性やそして表示にも改良が加えられました。このおかげで一層使いやすい親しみやすいものが作ることができるようになりました。
</p><p>
今回はGoogle Chromeのこの改良に準拠してこれまでのWeb文字盤に改良を加えましたので、AndroidとWindows（Ubuntuも）について、Web文字盤オフライン機能付きの使用方法とインストールアンインストールについてお話したいと思います。
</p>
<h2>２　使い方</h2>
<p>
準備するものは　パソコン（Windows10またはUbuntu18.04）またはスマホまたはタブレット（Android）です。ブラウザ（インターネット閲覧ソフト）はGoogle Chromeの最新版を用意してください。
</p><p>
まずインターネットにつないでください。そしてお使いのモニタにあわせて使いやすい見やすいものを下記から選んでください。 
</p><p>


<a href="https://toyama-rt.github.io/web-mojiban/hcjlc2a/hcj.html" target="_blank">50音文字盤　四種類文字盤切り替え　10種類の文書切り替え、文書保存機能付き　文書読み上げ機能付き　マニフェストオフラインWebアプリ機能付き　4:3モニター用</a>
</p><p>
<a href="https://toyama-rt.github.io/web-mojiban/hcjlc2wa/hcj.html" target="_blank">50音文字盤　四種類文字盤切り替え　10種類の文書切り替え、文書保存機能付き　文書読み上げ機能付き　マニフェストオフラインWebアプリ機能付き　16:9モニター用</a>
</p><p>
<a href="https://toyama-rt.github.io/web-mojiban/hcjlc2wwa/hcj.html" target="_blank">50音文字盤　四種類文字盤切り替え　10種類の文書切り替え、文書保存機能付き　文書読み上げ機能付き　マニフェストオフラインWebアプリ機能付き　さらにワイド用</a>

</p>
<h3>パソコンの場合（Windows10もUbuntu18.04もほとんど同じです）</h3>
<p>
まずインターネットに接続したパソコンのChromeで上記のリンクのどれかを表示させます。その後タイトルバー（オムニバー）の右の〇に＋の　アイコンをクリックすると下のようなインストールを確認が開きます。ここでインストールをクリックします。
</p>
<div style="text-align: center;"><img alt="インストール図" src="img/moji1.png" border="2"></div>
<p align="center">

<p><blockquote>
注意、PWAは必要なファイルをブラウザキャッシュに保存します。これは本来のOSへのアプリケーションのインストールとは異なります。これまでGoogleは『PWAはインストールしない』と説明していました。しかし2019年後半からこの作業を「インストール」と呼んで説明し始めました。これはこれでわかりやすいのですが、これまでのいきさつから用語の混乱はありますし実際やっていることは同じではありませんのでこの点で注意が必要です。
</blockquote></p><p>
しばらくすると、デスクトップにアイコンが表示されます。これで「インストール」は終了です。
</p>
<div style="text-align: center;"><img alt="アイコン図" src="img/moji2.png" border="2"></div>
<p align="center">
<p>
デスクトップのアイコンをクリックするとインターネット接続の有無にかかわらず起動し使用できます。区別のためWindowsではブルーのタイトルバーで表示されます。（Ubuntuではタイトルバーは黒です）これでインターネット接続のない場面、不安定な場面、接続していない場面でも使用できるようになります。
</p><p>
アンインストールする場合はタイトルバー右のメニューアイコン（3つ黒点）からアンインストールをクリックしてアンインストールします。
</p>
<div style="text-align: center;"><img alt="アンインストール図" src="img/moji3.png" border="2"></div>
<p align="center">
<p>
</p>
<h3>Androidの場合（スマホもタブレットも同じです）（ページトップの動画もご覧ください）</h3>
<p>
Androidタブレットやスマホでもまず同じくChromeで所定のサイトを表示させます。しばらくすると図のように画面下部分に表示が出ます。（もしなかなか表示がでないときは、はじめからやり直してください。3，４回やればできるでしょう）このとき、「ホーム画面に追加」を選ぶとインストール画面が表示されます。ｘを選ぶとキャンセルされます。インストール画面で追加を選ぶとインストールされます。
</p>
<div style="text-align: center;"><img alt="インストール図" src="img/moji4.png" border="2"></div>
<p>
<font color="#ff0000">追記（2020/02/18）もしここで上のような表示が出ない場合には、画面右上の3つの点（メニュー）から『ホーム画面に追加』を選ぶと下の図のように表示されます。</font>
</p>
<div style="text-align: center;"><img alt="インストール図２" src="img/moji5.png" border="2"></div>
<p>
インストールすると、ホーム画面に図のようなアイコンが表示されるようになります。これをタップすると起動します。
</p>
<div style="text-align: center;"><img alt="ホーム画面にアイコン" src="img/moji6.png" border="2"></div>
<p>
この画面では右上に飛行機マークがでています。これは機内モードでインターネット接続されていないことを示しています。機内モードで使用すると表示の高速化と通信費の節約が期待できます。
</p><p>
アンインストールするには、設定＞アプリ＞WebMoji4　で下の画面が表示されます。ここでアンインストールをタップします。ここでOKをタップするとアンインストールします。
</p>
<div style="text-align: center;"><img alt="アンインストール１" src="img/moji7.png" border="2"></div>
<div style="text-align: center;"><img alt="アンインストール２" src="img/moji8.png" border="2"></div>

<h2>３　おわりに</h2>
<p>
今回お話しましたChromeの改良により、Web文字盤のアイコンをダブルクリック（タブレットやスマホの場合はタップ）するだけで使用できるようになりました。これで初心者や高齢者や幼児のみなさんにもずいぶん使いやすくなりました。しかしこのためには今回説明した『仕込み』が必要で、これは周囲のおとなの手助けをお願いします。でも手順はずいぶん簡単になりましたので、もしかしたらこれで古いスマホ、タブレットも再利用、有効利用できるかもしれません。
</p><p>
またスマホにインストールしておけば、出先でコミュニケーションエイドの説明や試みをする際にずいぶん便利です。ご希望があればその人のスマホにその場でインストールもできます。こんな使い方で仕事の生産性も上がるかもしれません。
</p><p>
今回、オフラインウェブアプリもいよいよこれで完成か？と思いましたがそうはいきませんでした。
実はAndroid版Chromeでは作成した文章を保存変更する部分に不具合があります。パソコン版ではWindows10でもUbuntu18.04でもこの問題はありませんのでこれはなにかの手違いと思います。
</p><p>
<font color="#ff0000">追記（2020/02/18）<br>
Androidで発声する上記の問題は解決しました。すでにインストールされた場合は一旦アンインストールし、再度インストールし直してください。（今回の不具合修正ではいろいろ学ぶところもありました。早いうちにまとめて公開する予定です。）</font><br>
</p><p>
この2年間多くのトラブルに遭遇しました。思い返すとその原因の半分は製作者の私に、残りの半分はブラウザにあったように思えます。原因不明の不具合がブラウザのアップデート後にすっきりとなくなったことも何回かありました。こんな時は待つしかないのです。このためこの2年間ですっかり人間が円くなりました。今回の問題もやがて解決されると思います。
</p><p>
のこるはリンゴマークの会社です。safariのオフライン機能はすでにPWAに対応したとの情報もありますがまだ確認していません。これだけ有用な機能ですのでおそくならないうちに使える様になってほしいものです。
</p>


<h2>関連する話題</h2>

<ul>
  <li><a href="./web-mojiban1.html" target="_self">Web　文字盤　１　Android の EVA Facial Mouse でも使えます</a>
</li>
  <li><a href="./web-mojiban2.html" target="_self">Web　文字盤　２　ワイドモニターでの見やすさを改善しました</a>
</li>
  <li><a href="./web-mojiban3.html" target="_self">Web　文字盤　３　あいさつ文字盤とからだ文字盤を追加しました</a>
</li>
  <li><a href="./web-mojiban4.html" target="_self">Web　文字盤　４　オフラインWebアプリへの道</a>
</li>
  <li><a href="./web-mojiban5.html" target="_self">Web　文字盤　５　文章読み上げ機能を追加しました</a>
</li>
  <li><a href="./web-mojiban6.html" target="_self">Web　文字盤　６　読み上げ機能付きWeb文字盤に
オフラインWebアプリ機能をつけました</a>
</li>

</ul>

<h2>参考URL</h2>
<p>Progressive Web Apps　関係
<ul>
  <li>Progressive Web Apps  Web Google Developers<br>
<a target="_blank" href="https://developers.google.com/web/progressive-web-apps/">https://developers.google.com/web/progressive-web-apps/</a></li>

  <li>はじめてのプログレッシブ ウェブアプリ<br>
<a target="_blank" href="https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/?hl=ja">https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/?hl=ja</a></li>

  <li>PWAの基礎知識（その1）「Service Workerの使い方」<br>
<a target="_blank" href="https://blog.htmlhifive.com/2018/06/21/pwa-basics-1-service-worker-how-to-use/">https://blog.htmlhifive.com/2018/06/21/pwa-basics-1-service-worker-how-to-use/</a></li>

</ul>


<hr style="width: 60%; height: 5%; color: black;">
<p><span class="samples">2020/02/07　公開<br>
2020/02/18　追記</span></p>

<a href="../index.html" target="_self">
<p align="center">研究企画課リハ工学科にもどる</a>　←もくじはこちらです</p>

</body></html>
