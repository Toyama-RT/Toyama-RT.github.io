<!DOCTYPE html>
<html lang="ja"><head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Z7DXKP3EBK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Z7DXKP3EBK');
</script>

  
  <meta content="text/html; charset=utf-8" http-equiv="content-type">
  
  <script type="text/javascript" src="../sh/scripts/shCore.js"></script>
  
  <script type="text/javascript" src="../sh/scripts/shBrushXml.js"></script>
  
  <script type="text/javascript" src="../sh/scripts/shBrushPlain.js"></script>
  
  <script type="text/javascript" src="../sh/scripts/shBrushJScript.js"></script>
  
  <script type="text/javascript" src="../sh/scripts/shBrushVb.js"></script>
  
  <link type="text/css" rel="stylesheet" href="../sh/styles/shCoreDefault.css">
  
  <script type="text/javascript">SyntaxHighlighter.all();</script>
  <title>Toy26｜富山県リハ病院こども支援センター</title>
  
  <style type="text/css">
      
p	{
      font-size: 20px;
      line-height : 1.75 ;
      margin: 15px 100px 15px 100px;
	}
h1 {
    text-align: center;
    }
h2 {
    text-align: left;
      margin-left: 100px;
    }
h3 {
    text-align: left;
      margin-left: 100px;
    }
h4 {
    text-align: left;
      margin-left: 120px;
    }
pre {
    font-size: 20px;
    margin: 5px 100px 15px 100px;
    }
address{
	margin:5px 100px 15px 100px;
}      
blockquote {
    position: relative;
      font-size: 20px;
      line-height : 1.5 ;
    padding: 5px 150px 8px 100px;
    box-sizing: border-box;
    font-style: italic;
}
ol {
}
ul {
}
li {
  margin-top: 5px; /* 上余白指定 */
  margin-bottom: 5px; /* 下余白指定 */
  margin-left: 100px; /* 左余白指定*/
  margin-right: 100px; /* 右余白指定 */
  font-size: 20px; /*リストのフォントの大きさ*/
}
button{
  margin-bottom:1rem;
  width:150px;
  height:100px;
}

span.samples {font-size: small; }
.syntaxhighlighter {
  width: 80% !important;
  margin: 1em 100px 1em 100px !important;
  position: relative !important;
  overflow: auto !important;
  font-size: 1.3em !important;
}

    #text1 {
        width: 50%;
        height: 3em;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 3px;
        margin-bottom: 10px;
        font-size: 1.4em;
        font-weight: 700;
    }
    #btn1 {
        background: -webkit-linear-gradient(top,#008dfd 30%,#0370ea 100%);
        color: white;
        text-shadow: 1px 1px 1px #076bd2;
        border-radius: 3px;
        border: 1px solid #076bd2;
        padding: 2px 25px;
        font-weight: 700;
        font-size: 20px;
    }
    #selectVoice1 {
        width: 200px;
        font-weight: 700;
        font-size: 20px;

    }
    #text2 {
        width: 50%;
        height: 3em;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 3px;
        margin-bottom: 10px;
        font-size: 1.4em;
        font-weight: 700;
    }
    #btn2 {
        background: -webkit-linear-gradient(top,#008dfd 30%,#0370ea 100%);
        color: white;
        text-shadow: 1px 1px 1px #076bd2;
        border-radius: 3px;
        border: 1px solid #076bd2;
        padding: 2px 25px;
        font-weight: 700;
        font-size: 20px;
    }
    #selectVoice2 {
        width: 200px;
        font-weight: 700;
        font-size: 20px;

    }
    #text3 {
        width: 50%;
        height: 3em;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 3px;
        margin-bottom: 10px;
        font-size: 1.4em;
        font-weight: 700;
    }
    #btn3 {
        background: -webkit-linear-gradient(top,#008dfd 30%,#0370ea 100%);
        color: white;
        text-shadow: 1px 1px 1px #076bd2;
        border-radius: 3px;
        border: 1px solid #076bd2;
        padding: 2px 25px;
        font-weight: 700;
        font-size: 20px;
    }
    #selectVoice3 {
        width: 200px;
        font-weight: 700;
        font-size: 20px;
    }
    canvas { border: 1px solid black; }

            body {
              padding: 0;
              margin: 0;
            }

            svg:not(:root) {
              display: block;
            }

            .playable-code {
              background-color: #f4f7f8;
              border: none;
              border-left: 6px solid #558abb;
              border-width: medium medium medium 6px;
              color: #4d4e53;
              height: 100px;
              width: 90%;
              padding: 10px 10px 0;
            }

            .playable-canvas {
              border: 1px solid #4d4e53;
              border-radius: 2px;
            }

            .playable-buttons {
              text-align: right;
              width: 90%;
              padding: 5px 10px 5px 26px;
            }


  </style>

</head><body  onload="draw();">
<p align="center"><font size="5"><font size="5"><font size="3"><font color="#ff0000">かならずお読みください</font>→<a href="../cyuui.html" target="_self"><img alt="注意事項" src="../cyuuijikou.gif" border="0" height="29" width="78"></a></font></font></font></p>

<h1>障害をもつこどもたちのためのおもちゃ　２６</h1>
<h1>覚醒と外界への注意のおもちゃ第三段階</h1>

<div style="text-align: center;">
    <canvas id="canvas" width="500" height="500"></canvas> <br>
</div>
<script>
var sun = new Image();
var moon = new Image();
var earth = new Image();
var earth1 = new Image();
var earth11 = new Image();
var earth12 = new Image();
var earth2 = new Image();
var earth21 = new Image();
var earth22 = new Image();
var earth23 = new Image();

function init() {
  sun.src = './img/sun2.png';
  moon.src = './img/moon.png';
  earth.src  = './img/earth.png';
  earth1.src = './img/earth1.png';
  earth11.src = './img/earth1p.png';
  earth12.src = './img/earth1sb.png';
  earth2.src = './img/earth2.png';
  earth21.src = './img/earth2gy.png';
  earth22.src = './img/earth2lg.png';
  earth23.src = './img/earth2sg.png';

  window.requestAnimationFrame(draw);
}

function draw() {
  var ctx = document.getElementById('canvas').getContext('2d');

  ctx.globalCompositeOperation = 'destination-over';
  ctx.clearRect(0, 0, 500, 500); // clear canvas

  ctx.fillStyle = 'rgba(0, 0, 0, 0.4)';
  ctx.strokeStyle = 'rgba(0, 153, 255, 0.4)';
  ctx.save();
  ctx.translate(250, 250);

 var time = new Date();
 var angle1 = ((2 * Math.PI) / 6) * time.getSeconds() + ((2 * Math.PI) / 6000) * time.getMilliseconds();
 var radius1 = 80+(25*Math.sin(((2 * Math.PI) / 12) * time.getSeconds() + ((2 * Math.PI) / 12000) * time.getMilliseconds()));
 var radius2 = radius1 * Math.sqrt(3) / 2 ;

 var angle2 = ((-2 * Math.PI) / 12) * time.getSeconds() + ((-2 * Math.PI) / 12000) * time.getMilliseconds();
 var radius12 = 180+(25*Math.sin(((2 * Math.PI) / 12) * time.getSeconds() + ((2 * Math.PI) / 12000) * time.getMilliseconds()));
 var radius8x = radius12 / Math.sqrt(2);
 var radius8y = radius12 * (1 - 1/ Math.sqrt(2));


  // Earth
  ctx.rotate(angle1);
  ctx.translate(0, -1 * radius1);
  ctx.drawImage(earth1, -30, -30);
  // Earth2
  ctx.translate(radius2, radius1 / 2);
  ctx.rotate(60 * Math.PI / 180);
  ctx.drawImage(earth11, -30, -30,);
  // Earth3
  ctx.translate(radius2, radius1 / 2);
  ctx.rotate(60 * Math.PI / 180);
  ctx.drawImage(earth12, -30, -30);
  // Earth4
  ctx.translate(radius2, radius1 / 2);
  ctx.rotate(60 * Math.PI / 180);
  ctx.drawImage(earth1, -30, -30);
  // Earth5
  ctx.translate(radius2, radius1 / 2);
  ctx.rotate(60 * Math.PI / 180);
  ctx.drawImage(earth11, -30, -30);
  // Earth6
  ctx.translate(radius2, radius1 / 2);
  ctx.rotate(60 * Math.PI / 180);
  ctx.drawImage(earth12, -30, -30);

  ctx.restore();
  ctx.save();
  ctx.translate(250, 250);

  // Earth
  ctx.rotate(angle2);
  ctx.translate(0, -1 * radius12);
  ctx.drawImage(earth2, -50, -40);
  // Earth2
  ctx.translate(radius8x, radius8y);
  ctx.rotate(45 * Math.PI / 180);
  ctx.drawImage(earth21, -50, -40);
  // Earth3
  ctx.translate(radius8x, radius8y);
  ctx.rotate(45 * Math.PI / 180);
  ctx.drawImage(earth22, -50, -40);
  // Earth4
  ctx.translate(radius8x, radius8y);
  ctx.rotate(45 * Math.PI / 180);
  ctx.drawImage(earth23, -50, -40);
  // Earth5
  ctx.translate(radius8x, radius8y);
  ctx.rotate(45 * Math.PI / 180);
  ctx.drawImage(earth2, -50, -40);
  // Earth6
  ctx.translate(radius8x, radius8y);
  ctx.rotate(45 * Math.PI / 180);
  ctx.drawImage(earth21, -50, -40);
  // Earth7
  ctx.translate(radius8x, radius8y);
  ctx.rotate(45 * Math.PI / 180);
  ctx.drawImage(earth22, -50, -40);
  // Earth8
  ctx.translate(radius8x, radius8y);
  ctx.rotate(45 * Math.PI / 180);
  ctx.drawImage(earth23, -50, -40);

  // Moon
  //ctx.save();
  ctx.rotate(((2 * Math.PI) / 10) * time.getSeconds() + ((2 * Math.PI) / 10000) * time.getMilliseconds());
  ctx.translate(0, 128.5);
  ctx.drawImage(moon, -3.5, -3.5);


  ctx.restore();

  ctx.beginPath();
  //ctx.arc(250, 250, 80, 0, Math.PI * 2, false); // Earth orbit
  ctx.stroke();
 
  ctx.beginPath();
  //ctx.arc(250, 250, 200, 0, Math.PI * 2, false); // Earth orbit2
  ctx.stroke();

  ctx.drawImage(sun, 100, 100, 300, 300);

  window.requestAnimationFrame(draw);
}

init();
</script>

<h2>０　はじめに</h2>
<p>
みなさんは『寝たきり予防』とか『廃用症候群』などの言葉をお聞きになったことはありますか？
</p><p>
ご存知のようにベッドで長く安静にしていると様々な弊害が起きると言われています。まず筋肉の量が減り筋力が低下します。また関節が硬くなり柔軟な動きが難しくなります。さらに心臓や肺の働きまで低下します。これらをまとめて生活不活発病などと言うこともあります。
</p><p>
このため早期からベッドを離れリハビリ訓練を開始してこれらを防ぐことが大切と考えられています。
もし自分で立てない人や意識がはっきりせずふらつく人はベッド上でリハビリ訓練をして身体を動かします。このように安全が保たれる範囲でより活動的にすることが寝たきりや廃用症候群を予防するために大切と考えられています。
</p><p>
実は、身体と同様に脳にも昼は活動的に過ごし夜は静かに眠るといったメリハリのある生活リズムが必要です。
このため昼間は頻繁に声かけし、好きな音楽をかけ、ラジオやテレビをつけて音が聞こえるようにします。このように脳に刺激を与えて覚醒を上げ、気分をしっかり、不活溌を一掃して生活リズムを整えるようにします。
</p><p>
当院でもこのような取り組みをしている患者さんが何人かおられます。
昼下がりにこのような方の病室を訪問すると、ちょうど総理大臣が答弁していてちょっとびっくりすることもあります。どうやら途中で番組が変わったようです。
</p><p>
実は同じことを乳児期の赤ちゃんもやっています。眼の前にぶら下がったいろどり鮮やかなおもちゃとやさしい音楽。あっちを見たりこっちを見たりします。目的はリハビリテーションとほぼ同じ、これに保育や教育の目的がくわわります。さらに何ヶ月かすると寝返りしてハイハイして動き始めます。これでますますたくさんの刺激を受けていくことになります。
</p><p>
ところがいろいろな事情のためにこれにいくらか時間がかかることもなかにはあります。うまく見えなかったり、うまく動けなかったりすると刺激が足りなくなることもあります。また通常のおもちゃがそのままでは使いにくいとか見えにくいといったこともあります。このような場合はそれぞれの事情に合わせた工夫が必要になります。
</p><p>
さて何年か前から『アルテク』（身の回りにあるテクノロジ）の活用が提唱されています。不自由を持つ方々の様々な不便を、アルテクで補いましょうということです。この時期、たしかにスマホやタブレットの普及は著しくすすみました。いまでは多くの学校では何十台も保有して児童生徒が学習に使っているそうです。また自宅でパソコンの設定をしているときに、周辺を飛び交うwifiの電波がかなり増えていることにも気がつきました。また町内の回覧板もメールでの受取が選べるようになりました。世の中はどんどん変化しています。
</p><p>
ですがこれらの『アルテク』を使って何がどの程度できるのかはまだ十分明らかになっていないところがあります。とくにやればできることと、がんばってもできないことをきちんと区別しておかないと、とかく現場に出ている若い人たちに無益な負担を強いることになることがありますので、注意したいものです。
</p><p>
その一方で、「専門じゃないから」や「苦手だから」と『アルテク』を避ける人もいます。今や windows95から既に四半世紀、入試科目に『情報』という時代です。すでに心得のある人々が社会のあちこちにいますので、こちらもそろそろなんとかなってほしいものです。
</p><p>
その昔、パソコン普及の初期にも、『コンピュータで何でもできる』という人と『何もできない』という偉い人がいて、『できることはできるができないことはできない、ただし知恵と工夫でできないことができるようになることもある』というのが理解してもらえず困ったことがありました。やはりこのような場合は実際にできることをやって見せることと、多くの人に取り組んでもらうのが必要なようです。しかしこれじゃあまるで布教活動のようだと愚痴をこぼしながら今回もいろいろ試してご紹介しています。
</p>
<h2>１　今回の試作品</h2>
<p>
さてここまで、覚醒と外界への注意を促すおもちゃということで、<br>
１　赤黒点滅　CANVAS機能の利用<br>
２　水槽動画　CSSアニメーションの応用<br>
をやりました。皆さんのお手元でも動きましたか？
</p><p>
これらに引き続き今回は、CANVAS機能を利用した基本的アニメーション（mdnの 開発者向けのウェブ技術のCanvas チュートリアル　参考URL）を使って、顔がくるくる回るアニメと水槽の魚アニメの中間くらいをねらって作り、このページのトップに表示しています。
</p><p>
右は単独で動きます　
<a href="./sample13.html" target="_blank">ベッドメリー</a><br>
</p><p>

今回は、覚醒と外界への注意のおもちゃの元祖、メリーゴーランドに注目しました。メリーゴーランドというと、遊園地の回転木馬を連想しますが、ベビーベッドの上に吊り下げて、くるくる回転するおもちゃです。今どきはベッドメリーという？な名前が一般的なようです。検索すると驚くほどたくさん種類があります。
</p><p>
通常はベッドメリーの市販品で特に問題はないのですが、例えば当院のこども支援センターを見渡すとベッド上で仰臥位（ぎょうがい＝あおむけ）の人はとても少なく多くが側臥位（そくがい＝よこむき）です。また体位交換も頻回にありますので見る方向も変わります。また座位では在保持装置を使いますのでやはり見上げる動作はちょっとやりにくいです。このほかのこどもたちは元気にキャーキャーやっていて、覚醒は既に十分ですのでここでは考えに入れないことにします。
</p><p>
このようなこどもたちの見えやすい場所にメリーゴーランドなどのおもちゃを表示するには、スマホやタブレットは悪くない選択肢だと思います。小ぶりで場所もとりませんし、ケーブルの類もないところがいいです。また現場のスタッフにとっても扱いやすく管理もしやすいでしょう。
</p><p>
このようにいくらか見通しが立ちました。また検索しても類似の取り組みを見つけることができませんでした。ということはいま話題のChatGPTも多分ご存知ないので、ネタになることはありません。また今回ここにこのような記事をネットで公開すると、やがて話題になるかもしれません。もしそうなれば宣伝してくれるようなものでそれはそれで助かります。
</p><p>
脱線ついでにもう少し。ChatGPTがこれからもたらす社会的変化についていろいろ言われていますが、結局は素性や特性を理解しツールとして利用するという、これまで何回か経験したことをまた今回もやることになるだろうと思っています。
ただひとつ気がかりなのは、ＡＩになにかのバイアスがかかって、暴言を吐く（これありましたね）特定の何かを宣伝、主張すると困ります。スポンサーは喜ぶかも？ＡＩは原因の特定と対策、修正が難しいと聞きましたがなんとかこの『思春期』を乗り越えて立派なおとなに成長していってほしいものです。
</p>
<h2>２　つくるはなし</h2>
<p>
さて話をもとに戻して、作り始めます。
</p><p>
これまで、Canvasを使ったのは、前々回の赤黒点滅くらいですのでこころもとありません。そこで参考になるサンプルをさがしてみると実にたくさん公開されていることがわかりました。その中からMDNの 開発者向けのウェブ技術のCanvas チュートリアルの太陽系を模擬したサンプルを利用することにしました。
</p><p>
もちろんイチからつくるのも大事ですが、経験も実力も足りないならやりかたに工夫が必要です。人まねができないようでは、自立だってできません。
今どきはよく『モノ作り日本』とかおっしゃる人がいますが、遠くない昔、日本にも人まねの二流品三流品つくりの時代が長くあったことは覚えておくべきだと思います。
</p><p>
こちらを参考にしました　　
<a href="./sample_.an_animated_solar_system2.html" target="_blank">太陽系アニメサンプル</a><br>
</p><p>
さて上のサンプルでは、太陽と地球と月がそれぞれ動きます。しかし残念なことに、本家本元のMDNのサンプルは画像ファイルのパスが切れていて正しく動きません。探してみると台湾大学、Department of Computer Science and Information Engineering (CSIE)（表記がややこしくてすみません。何しろ繁体字の知らない漢字がたくさんで）のサイト（参考URL参照）に画像ファイルがみつかりました。しかしファイルがあるのにこちらもパスが切れていて動きません。もしかしたらこれは「動かないのを動くようにせよ」という学生向けの課題なのでしょうか？よそのお仕事を邪魔してはいけませんので、当方のサーバにMDNのhtmlファイルを置き台湾大学の画像ファイルを読みに行くように作り変えたら動くようになりました。よって台湾大学の学生さんはこれを見てはいけません。課題は自分の力でやりましょう。
</p><p>
さてこのサンプルを改造し一番目の軌道に惑星を6つ配置し右回りに、二番目の軌道に惑星を8つ配置し左回りに公転させます。さらに二番目の軌道の惑星の一つに衛星を配置し惑星の周りを公転するように改造します。それぞれの公転速度と方向を自由に変更できるようなるにはいろいろ試して勉強が必要です。さらに公転半径を時間の関数にして刻々と変化するようにします。
</p><p>
計画した動きを実現できたところで、最後に外見を改善します。netで乳児玩具の写真を集め、オーソドックスな色使いを調べます。どうやら淡い色合いが今どきの人気のようです。これをサンプルを見ながらカラーコードに変換します。例えば、グリーンイエローはadff2fになります。
</p><p>
メリーゴランドの形は花のイメージにして、回転しながら大きく小さく、開いたり閉じたりするように動かします。そのため、中心の太陽は丸、一番目の軌道の惑星は三角、二番目の軌道の惑星を長方形にして、無料の描画ソフト（paint.net）を使い上で決めた色で図形を作り、ソフトに組み込みました。やり方は台湾大学の課題と同じです。
</p><p>
最後に試運転しながら、公転半径の大きさ、その変化の大きさなどを微調整し完成しました。
黄色い丸の衛星は一見すると不規則に動きます。これは全体が調和して動いている中でことさら調和を乱し注意をひくように追加しました。こんなものを面白がるこどもも少なからずいるでしょう。
</p><p>
市販品のおもちゃの場合は、ここで音楽をつけたくなります。オルゴールや電子音をつけると商品価値は上がるでしょう。
しかしスマホやタブレットではありとあらゆる音楽、音源を再生できます。また誰かが歌ったり話しかけるのもいいでしょう。
対象の方が好きなように、役に立つように現場のみなさんがいろいろと考えて実行していただければそれでよろしいと思います。
</p><p>
このアプリは、省力化の道具としても新しい取り組みのためにも利用できるでしょう。いずれにせよお使いになる方々の創意工夫に期待したいと思います。またそのような仕事をしていれば、ＡＩなんて怖がる必要はないでしょう。

</p>
<h2>３　おわりに</h2>
<p>
私がスマホを手に入れたのは今から４年ほど前のことです。今でも連絡はＥメール、電話はほとんどつかいません。

そんな私がスマホに興味を持ったのは、共同研究でお会いした大学の若い先生が、スマホにプログラムを組み込んで面白そうな研究に使っているのを知ったときでした。
なかなか楽しそうです。こんなのを見ると無性に自分でもやってみたくなるのが私の性分です。
</p><p>
調べてみるとスマホには各種のセンサやgpsなどいろいろな機能がついていてカメラで写真も動画も撮影できます。さらにSIMカードをつければ電話もできます。でも電話は私にはいりません。またネットオークションでごく安く中古が手に入るので、もし分解して壊してもダメージが少ないところも気に入りました。さらにやろうと思えば、いろいろできそうなところも気に入りました。
</p><p>
このようないきさつで老後の楽しみにぴったりのおもちゃが見つかりました。
でもこどものころおもちゃを買ってもらうと家に帰るまで待てなかった私は今回も老後を待てませんでした。

家のwifiに繋ぐと簡単に動き始めました。そのころ作っていたエンチャントのアプリを動かすとちゃんと動きました。かなりまともです。ほかのアプリを入れるとまずまず動きます。

こんなに安くできるならどこまでできるかやってみよう。もうすっかりこどもです。
そのようないきさつで、web文字盤やwebtoyができました。
</p><p>

世の中の多くの人々も私と似たようなものを見て、感じて、行動してきたことでしょう。しかしその結果はひとそれぞれずいぶん違います。

ほとんどの人は、友人に教えられたようにまたはネットで読んだように使ってみて、簡単で便利で楽しいからお金を払って使い続けているだけです。そのアルテクの中身の機能や能力や可能性を考えることはほとんどありません。まるで部下を伸ばそうとしない上司みたいなもので、そちらにあまり関心がないのです。
</p><p>
アルテクの活用は、今後このような現実にどう対処していくかにかかっていると思います。

しかし悪いことばかりではありません。このような多くの人々のおかげできちんと動く安い中古品がたくさん流通して、必要な人のところに届けることができるのです。

</p>

<h2>参考URL</h2>
<p>
<ul>
  <li>mdn web docs 開発者向けのウェブ技術　基本的なアニメーション<br>
<a target="_blank" href="https://developer.mozilla.org/ja/docs/Web/API/Canvas_API/Tutorial/Basic_animations">https://developer.mozilla.org/ja/docs/Web/API/Canvas_API/Tutorial/Basic_animations</a></li>

  <li>台湾大学、Department of Computer Science and Information Engineering (CSIE)<br>
<a target="_blank" href="https://www.csie.ntu.edu.tw/">https://www.csie.ntu.edu.tw/</a><br>

<a target="_blank" href="https://www.csie.ntu.edu.tw/~sylee/courses/jscript/canvas/">https://www.csie.ntu.edu.tw/~sylee/courses/jscript/canvas/</a></li>

</ul>
</p>

<hr style="width: 60%; height: 5%; color: black;">
<p><span class="samples">2023/04/28　公開
</span></p>

<a href="../index.html" target="_self">
<p align="center">研究企画課リハ工学科にもどる</a>　←もくじはこちらです</p>

</body></html>
